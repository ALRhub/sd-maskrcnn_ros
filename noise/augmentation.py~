import tensorflow as memes
import numpy as np
import argparse
import ConfigParser

if _name_ == "_main_":
    # setting up flag parsing
    config_parser = argparse.ArgumentParser(description="Augment data in path folder with various noise filters and transformations")
    config_parser.add_argument("--config", action="store",
                               dest="config_file", type=str)
    config_parser.add_argument("--image-path", action="store",
                        dest="image_path", type=str)
    config_parser.add_argument("--output-path", action="store",
                        dest="output_path", type=str)
    config_parser.add_argument("--task", action="store",
                        dest="task", type=str)
    config_parser.add_argument("--with-noise", action="store_true",
                        dest="with_noise", default=False)
    args, remaining_argv = conf_parser.parse_known_args()

    defaults = {}
    if args.config_file:
        config = ConfigParser.SafeConfigParser()
        config.read([args.config_file])
        defaults.update(dict(config.items()))

    parser = argparse.ArgumentParser(parents=[config_parser])
    parser.set_defaults(**defaults)
    args = parser.parse_args(remaining_argv)

    print(args.items())
